{% extends 'index.html' %}

{% block content %}
{% if message %}
<div class="alert alert-{{ message.level }} alert-dismissible fade show" role="alert">
  {{ message.text }}
  <button type="button" class="close" data-dismiss="alert" aria-label="Close">
    <span aria-hidden="true">&times;</span>
  </button>
</div>
{% endif %}  
<div id="3d-graph" style="position: fixed; top: 75px; height:100px; left: 0px;">
</div>
<div id="infobox" class="container"></div>
<div id="citationnet-main">
  <button class="btn btn-outline-success float-left openbtn" type="button" data-bs-toggle="offcanvas" data-bs-target="#sidebar" aria-controls="sidebar">â˜°</button>
</div>

{% include 'control.html' %}

<script>
let citenet = new citationnet.citationnet(
    jsondata = "/static/data/{{ filename }}",
    containerID = "3d-graph"
  );
  
  document.addEventListener('keyup', event => citationnet.toogleView(event, citenet))
  
  citenet.loadData();
  citenet.setNodeProp();
  citenet.setLinkStrength();
  citenet.setCylinder();
  citenet.view("side");
  citenet.graph.onEngineStop(() => citenet.graph.zoomToFit(400))
</script>

{% endblock %}

